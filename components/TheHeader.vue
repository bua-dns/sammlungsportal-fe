<template>
  <header class="navbar fixed-top">
    <nuxt-link to="/" class="navbar__brand" v-if="true">
      <svg viewBox="0 0 76 76" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"
        class="navbar__logo">
        <path style="fill:#98c11c;fill-opacity:1;" class="logo-svg-path-outer-ring"
          d="M 14.087891,39.974648 H 0 A 36,36.026106 0 0 0 36,76.000039 V 61.876992 A 24.017404,24 45 0 1 32.902344,61.429727 24.017404,24 45 0 1 29.625,60.466836 a 24.017404,24 45 0 1 -3.107422,-1.419922 24.017404,24 45 0 1 -2.875,-1.84375 24.017404,24 45 0 1 -2.585937,-2.234375 l -0.02734,0.02734 a 24.017404,24 45 0 1 -2.244145,-2.58984 24.017404,24 45 0 1 -1.853515,-2.882812 24.017404,24 45 0 1 -1.423829,-3.117188 24.017404,24 45 0 1 -0.966796,-3.287109 24.017404,24 45 0 1 -0.453125,-3.144532 z" />
        <path style="fill:#003366;fill-opacity:1;" class="logo-svg-path-outer-ring"
          d="m 61.886719,39.974648 a 24.017404,24 45 0 1 -0.451172,3.150391 24.017404,24 45 0 1 -0.964844,3.28125 24.017404,24 45 0 1 -1.421875,3.113281 24.017404,24 45 0 1 -1.849609,2.876953 24.017404,24 45 0 1 -2.240235,2.585938 24.017404,24 45 0 1 -0.0078,0.0059 24.017404,24 45 0 1 -0.01758,0.01953 l -0.002,-0.002 a 24.017404,24 45 0 1 -2.585938,2.228516 24.017404,24 45 0 1 -2.876953,1.837891 24.017404,24 45 0 1 -3.109375,1.412109 24.017404,24 45 0 1 -3.279297,0.955078 A 24.017404,24 45 0 1 40,61.878945 V 76.000039 A 36,36.026106 0 0 0 76,39.974648 Z" />
        <path style="fill:#a3a3a3;fill-opacity:1;" class="logo-svg-path-outer-ring"
          d="M 36.052734,3.8705582e-5 A 36,36.026106 0 0 0 0,35.974648 l 14.095703,0.01953 a 24.017404,24 45 0 1 0.441406,-3.082032 24.017404,24 45 0 1 0.964844,-3.287109 24.017404,24 45 0 1 1.421875,-3.115234 24.017404,24 45 0 1 1.851563,-2.88086 24.017404,24 45 0 1 2.242187,-2.58789 24.017404,24 45 0 1 2.361328,-2.070313 24.017404,24 45 0 1 2.609375,-1.744141 24.017404,24 45 0 1 2.816407,-1.386718 24.017404,24 45 0 1 2.974609,-1.007813 24.017404,24 45 0 1 3.080078,-0.611328 24.017404,24 45 0 1 1.171875,-0.07617 z" />
        <path style="fill:#c50e1f;fill-opacity:1;" class="logo-svg-path-outer-ring"
          d="M 40,3.8705582e-5 39.97852,14.146523 a 24.017404,24 45 0 1 1.146484,0.07617 24.017404,24 45 0 1 3.082031,0.613282 24.017404,24 45 0 1 2.972657,1.011718 24.017404,24 45 0 1 2.818359,1.388672 24.017404,24 45 0 1 2.611328,1.746094 24.017404,24 45 0 1 2.361328,2.072266 24.017404,24 45 0 1 2.238281,2.589843 24.017404,24 45 0 1 1.847657,2.882813 24.017404,24 45 0 1 1.419921,3.115234 24.017404,24 45 0 1 0.960938,3.285156 24.017404,24 45 0 1 0.449219,3.128907 l 14.060547,0.02148 A 36,36.026106 0 0 0 40,3.8705582e-5 Z" />
        <path style="fill:#98c11c;fill-opacity:1;" class="logo-svg-path-inner-ring"
          d="m 37.992188,14.015664 a 24.017404,24 45 0 0 -16.97461,7.025391 l 8.507813,8.509765 a 12,12.008702 0 0 1 0.617187,-0.617187 12,12.008702 0 0 1 1.369141,-1.027344 12,12.008702 0 0 1 1.503906,-0.820312 12,12.008702 0 0 1 1.603516,-0.59961 12,12.008702 0 0 1 1.673828,-0.363281 A 12,12.008702 0 0 1 38,26.000039 a 12,12.008702 0 0 1 1.707031,0.123047 12,12.008702 0 0 1 1.673828,0.363281 12,12.008702 0 0 1 1.603516,0.59961 12,12.008702 0 0 1 1.503906,0.820312 12,12.008702 0 0 1 1.369141,1.027344 12,12.008702 0 0 1 0.617187,0.617187 l 8.496094,-8.496093 A 24.017404,24 45 0 0 37.992188,14.015664 Z" />
        <path style="fill:#003366;fill-opacity:1;" class="logo-svg-path-inner-ring"
          d="m 21.017578,21.041055 a 24.017404,24 45 0 0 0.01172,33.955078 l 8.53125,-8.53125 a 12,12.008702 0 0 1 -0.615235,-0.615235 12,12.008702 0 0 1 -1.023437,-1.36914 12,12.008702 0 0 1 -0.816406,-1.498047 12,12.008702 0 0 1 -0.597657,-1.601563 12,12.008702 0 0 1 -0.365234,-1.669921 12,12.008702 0 0 1 -0.123047,-1.703126 h -0.01953 a 12,12.008702 0 0 1 0.123045,-1.708984 12,12.008702 0 0 1 0.363281,-1.673828 12,12.008702 0 0 1 0.597656,-1.605469 12,12.008702 0 0 1 0.820313,-1.503906 12,12.008702 0 0 1 1.027344,-1.371094 12,12.008702 0 0 1 0.59375,-0.59375 z" />
        <path style="fill:#a3a3a3;fill-opacity:1;" class="logo-svg-path-inner-ring"
          d="m 54.970703,21.054727 -8.509765,8.482421 a 12,12.008702 0 0 1 0.607421,0.607422 12,12.008702 0 0 1 1.027344,1.371094 12,12.008702 0 0 1 0.820313,1.503906 12,12.008702 0 0 1 0.597656,1.605469 12,12.008702 0 0 1 0.363281,1.673828 A 12,12.008702 0 0 1 50,38.007851 a 12,12.008702 0 0 1 -0.125,1.707032 12,12.008702 0 0 1 -0.365234,1.671875 12,12.008702 0 0 1 -0.59961,1.603515 12,12.008702 0 0 1 -0.820312,1.501954 12,12.008702 0 0 1 -1.027344,1.36914 12,12.008702 0 0 1 -0.625,0.625 l 8.496094,8.521484 a 24.017404,24 45 0 0 0.03711,-33.953124 z" />
        <path style="fill:#c50e1f;fill-opacity:1;" class="logo-svg-path-inner-ring"
          d="m 29.523438,46.427773 -8.519532,8.494141 a 24.017404,24 45 0 0 33.955078,0.06055 L 46.462891,46.46098 a 12,12.008702 0 0 1 -0.609375,0.611328 12,12.008702 0 0 1 -1.371094,1.02539 12,12.008702 0 0 1 -1.501953,0.81836 12,12.008702 0 0 1 -1.603516,0.597656 12,12.008702 0 0 1 -1.669922,0.365234 A 12,12.008702 0 0 1 38,50.000039 a 12,12.008702 0 0 1 -0.01758,0 12,12.008702 0 0 1 -1.703125,-0.126953 12,12.008702 0 0 1 -1.666016,-0.367188 12,12.008702 0 0 1 -1.599609,-0.599609 12,12.008702 0 0 1 -1.496094,-0.822266 12,12.008702 0 0 1 -1.365234,-1.02539 12,12.008702 0 0 1 -0.628906,-0.63086 z" />
      </svg>
      <div class="navbar__title_container">
        <div class="navbar__title title">{{ w.site_title }}</div>
        <div class="navbar__subtitle title">{{ w.site_subtitle }}</div>
      </div>
    </nuxt-link>
    <nav class="navbar__links">
      <ul>
        <li>
          <nuxt-link to="/">{{ w.page_start }}</nuxt-link>
        </li>
        <li>
          <nuxt-link to="/sammlungen">{{ w.page_collections }}</nuxt-link>
        </li>
        <li>
          <nuxt-link to="/kontakt">{{ w.page_contact }}</nuxt-link>
        </li>
      </ul>
    </nav>
    <div class="navbar__controls">
      <button @click="toggleNav" :class="navState === 'open' ? 'burger open' : 'burger'"
        :aria-expanded="navState === 'open' ? true : false" aria-label="navigation menu">
        <span class="burger__line burger__line-1" aria-hidden="true" focusable="false"></span>
        <span class="burger__line burger__line-2" aria-hidden="true" focusable="false"></span>
        <span class="burger__line burger__line-3" aria-hidden="true" focusable="false"></span>
      </button>
    </div>
  </header>
</template>
<script setup>

const theme = useState('theme');
const w = theme.value.data.wording.de;

const navState = useState('nav', () => "close");
const toggleNav = () => {
  navState.value = navState.value === "close" ? "open" : "close";
};

onMounted(() => {
  window.addEventListener("scroll", handleScroll);
});
onUnmounted(() => {
  window.removeEventListener("scroll", handleScroll);
});

const scrollOffset = 40;
const scrollState = useState('scroll', () => false);
const handleScroll = () => {
  const navbar = document.querySelector(".navbar");
  if (window.scrollY > scrollOffset && !navbar.classList.contains("shrink")) {
    navbar.classList.add("shrink");
    scrollState.value = true;
  } else if (window.scrollY <= scrollOffset && navbar.classList.contains("shrink")) {
    navbar.classList.remove("shrink");
    scrollState.value = false;
  }
};
</script>
